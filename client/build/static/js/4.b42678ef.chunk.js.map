{"version":3,"sources":["redux/shop/shopSelector.js","components/collection-item/collection-item.jsx","pages/collection/collection.jsx","components/collection/collection-preview.jsx","components/collectionOverview/collectionOverview.jsx","components/spinner/styles.jsx","components/spinner/spinner.jsx","pages/shop-pages/shop-page.jsx","redux/shop/shopActions.jsx"],"names":["selectShop","state","shop","selectCollections","createSelector","collections","selectCollectionArray","Object","keys","map","key","isFetchingSelector","isFetching","connect","dispatch","addItem","item","space","imageUrl","name","price","className","style","marginBottom","backgroundImage","onClick","classes","ownProps","collection","paramName","match","params","collectionId","items","title","id","withRouter","history","push","toLowerCase","filter","index","props","SpinnerOverlay","styled","div","SpinnerContainer","withSpinner","Wcomponent","isLoading","Otherprops","CollectionOverViewSpinner","WithSpinner","CollectionOverview","CollectionSpinner","Collection","fetchingData","type","firestore","get","then","snapshot","data","createCollections","payload","succes","catch","error","failed","useEffect","exact","path","render"],"mappings":"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","file":"static/js/4.b42678ef.chunk.js","sourcesContent":["import {createSelector} from \"reselect\";\r\nexport const selectShop = state => state.shop;\r\n\r\n\r\nexport const selectCollections  = createSelector(\r\n    [selectShop],\r\n    (shop)=> shop.collections\r\n)\r\nexport const selectCollectionArray = createSelector(\r\n    [selectCollections],\r\n    (collections) => collections ? Object.keys(collections).map(key => collections[key]) : []\r\n) \r\n\r\nexport const collectionSelector = paramName =>(\r\n    createSelector(\r\n        [selectCollections],\r\n        (collections)=>(collections ? collections[paramName] : null )\r\n    )\r\n)\r\nexport const isFetchingSelector= createSelector(\r\n    [selectShop],\r\n    shop => shop.isFetching\r\n);","import React from \"react\";\r\nimport Button from \"../button/button\";\r\nimport \"./collection-item.scss\";\r\nimport {connect} from \"react-redux\";\r\nimport {addItem} from \"../../redux/cart/cartActions\";\r\nconst CollectionItem = ({item,addItem,space} )=> \r\n { \r\n     const {imageUrl , name , price }=item;\r\n  return (   \r\n     <div  className=\"col-md-3 col-sm-12\" >\r\n     <div className=\"collection-item \" style={space? {marginBottom : 30} :{}} >\r\n  \r\n      <div className=\"front side\"  style={{backgroundImage: `url(${imageUrl})`} } />\r\n      <div className=\"back side\">\r\n      <p>Asma Zgh</p>\r\n      <div className=\"collection-footer\">\r\n          <span className=\"name\">{name}</span>\r\n          <span className=\"price\">{price} DZA</span>\r\n      </div> \r\n     <Button onClick={()=>{addItem(item);\r\n      }} classes=\"btn btn-dark btn-lg btn-collection\">ADD</Button>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  \r\n    )\r\n }\r\nconst mapDispatchToProps= dispatch =>({\r\n    addItem : (item)=> dispatch(addItem(item)),\r\n})\r\n\r\n\r\nexport default connect(null,mapDispatchToProps)(CollectionItem);","import React from 'react';\r\nimport \"./collection.scss\";\r\nimport { collectionSelector } from '../../redux/shop/shopSelector';\r\nimport {connect} from \"react-redux\";\r\nimport CollectionItem from \"../../components/collection-item/collection-item\"\r\n\r\nconst Collection = ({collection})=>{\r\n\r\n   const {items , title}= collection ? collection : {items : [] , title : \"\"};\r\n    return(  \r\n    <div className=\"collection-page\">\r\n    <h2 className=\"title\">{title}</h2>\r\n    <div className=\"row\">\r\n       {  items.map(item=> <CollectionItem key={item.id} space={true} item={item}/>)}\r\n       \r\n    </div>\r\n    </div> \r\n    \r\n)}\r\nconst mapTostate= (state , ownProps) =>(\r\n{    collection : collectionSelector(ownProps.match.params.collectionId)(state)}\r\n)\r\n\r\n\r\nexport default connect(mapTostate)( Collection);","import React from \"react\";\r\nimport \"./collection-preview.scss\";\r\nimport CollectionItem from \"../collection-item/collection-item\";\r\nimport {\r\n    withRouter } from \"react-router-dom\";\r\n\r\n\r\nconst CollectionPreview = ({title , items,history})=>(\r\n    <div className=\"collection-preview\">\r\n        <h1 onClick={()=> history.push(`/shop/${title.toLowerCase()}`)} className=\"title\">{title}</h1>\r\n        <div className=\"row\">\r\n            {\r\n                items.filter((item , index)=>(index < 4)).map(item=> (<CollectionItem key={item.id} space={true} item={item} />))\r\n            }\r\n        </div>\r\n    </div>\r\n);\r\nexport default withRouter (CollectionPreview);\r\n  \r\n","import React from 'react';\r\nimport \"./collectionOverview.scss\";\r\nimport CollectionPreview from \"../../components/collection/collection-preview\";\r\nimport {selectCollectionArray  }from \"../../redux/shop/shopSelector\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst CollectionOverview=({collections})=> (\r\n    <div >\r\n         {collections.map(({id,...props}) =>  (\r\n              <CollectionPreview key={id} {...props}  />)\r\n              )}\r\n    </div>\r\n)\r\nconst mapStateToProps= state =>( {\r\n    collections : selectCollectionArray(state)\r\n})\r\n\r\nexport default connect(mapStateToProps)(CollectionOverview);","import styled from 'styled-components';\r\n\r\nexport const SpinnerOverlay = styled.div`\r\n  height: 60vh;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SpinnerContainer = styled.div`\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 5px dotted rgba(195, 195, 195, 0.6);\r\n  border-radius: 50%;\r\n  border-top-color: #636767;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport {SpinnerOverlay , SpinnerContainer} from \"./styles.jsx\";\r\n\r\n\r\n\r\nconst withSpinner = (Wcomponent) => ({isLoading , ...Otherprops}) =>(\r\n    isLoading ?\r\n    <SpinnerOverlay >\r\n        <SpinnerContainer />\r\n    </SpinnerOverlay>\r\n    :\r\n    <Wcomponent {...Otherprops}/>\r\n)\r\n\r\nexport default withSpinner;","import React,{useEffect} from \"react\";\r\nimport \"./shop-page.scss\";\r\nimport {Route} from \"react-router-dom\";\r\nimport Collection from \"../collection/collection\";\r\nimport CollectionOverview from \"../../components/collectionOverview/collectionOverview\";\r\nimport {asyncFetching} from \"../../redux/shop/shopActions\";\r\nimport {isFetchingSelector} from \"../../redux/shop/shopSelector\";\r\nimport {connect} from \"react-redux\";\r\nimport WithSpinner from \"../../components/spinner/spinner\";\r\nconst CollectionOverViewSpinner = WithSpinner(CollectionOverview);\r\nconst CollectionSpinner = WithSpinner(Collection);\r\nconst ShopPage = ({match,isFetching,fetchingData}) => {   \r\n useEffect(() => {\r\n     fetchingData();\r\n }, [fetchingData]);\r\n\r\n       return ( \r\n            <div className=\"shop-page\">\r\n                 <Route exact path={`${match.path}`} render={props=> <CollectionOverViewSpinner isLoading={isFetching} {...props}/> }/> \r\n                 <Route path={`${match.path}/:collectionId`} render={props=> <CollectionSpinner isLoading={isFetching} {...props}/>}/>\r\n            </div>\r\n        );\r\n}\r\nconst mapStateToProps = state =>({\r\n  isFetching : isFetchingSelector(state)\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchingData :()=> dispatch(asyncFetching())\r\n});\r\n\r\nexport default connect(mapStateToProps , mapDispatchToProps)(ShopPage);\r\n\r\n","import {firestore,createCollections} from \"../../firebase/firebase-util\";\r\n\r\nexport const start = ()=> ({\r\n    type : \"START_FETCHING\"\r\n});\r\nexport const succes = (data)=>({\r\n    type : \"SUCCESS_FETCHING\",\r\n    payload : data\r\n});\r\nexport const failed = (error)=>({\r\n    type : \"FAILED_FETCHING\",\r\n    payload : error\r\n});\r\nexport const  asyncFetching = ()=>{\r\n    return dispatch => {\r\n        dispatch(start());\r\n    const collectionRef = firestore.collection(\"collections\");  \r\n    collectionRef.get().then(snapshot=> {\r\n      const data=createCollections(snapshot);\r\n      dispatch(succes(data));\r\n    }).catch(error=>\r\n        dispatch(failed(error))\r\n    );\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}